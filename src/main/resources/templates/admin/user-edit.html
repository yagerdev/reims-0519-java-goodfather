<!DOCTYPE html>
<html lang="FR">
    <div th:replace="fragments/head.html :: head"></div>
    <body>
        <div th:replace="fragments/header.html :: header"></div>
		<div th:replace="fragments/nav.html :: nav"></div>
		<main class="container">
			<h2 class="jumbotron mb-3">
				Modification de
				<span
					class="yellow-gf"
					th:text="${userToUpdate.firstName} + ' ' + ${userToUpdate.lastName}"
				>
					catégories
				</span>
			</h2>
			<div th:replace="fragments/alert.html :: alert"></div>
			<section>
				<form
					th:action="@{/users/} + ${user.id}"
					th:method="PUT"
					th:object="${user}"
					class="rounded"
				>
					<div class="input-group mb-3">
						<div class="input-group-prepend read-project">
							<label class="input-group-text flex-centered" for="firstName">Prénom</label>
						</div>
						<input
							type="text"
							class="form-control"
							th:field="*{firstName}"
							placeholder="Modifiez le prénom de l'utilisateur"
						/>
					</div>
					<div class="alert alert-warning alert-dismissible fade show" role="alert" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">
                        Firstname Error
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
					<div class="input-group mb-3">
						<div class="input-group-prepend read-project">
							<label class="input-group-text flex-centered" for="lastName">
								Nom
							</label>
						</div>
						<input
							type="text"
							class="form-control"
							th:field="*{lastName}"
							placeholder="Modifiez le nom de l'utilisateur"
						/>
					</div>
					<div class="alert alert-warning alert-dismissible fade show" role="alert" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">
                        Lastname Error
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
					<div class="input-group mb-3">
						<div class="input-group-prepend read-project">
							<label class="input-group-text flex-centered" for="email">
								Mail
							</label>
						</div>
						<input
							type="email"
							class="form-control"
							th:field="*{email}"
							placeholder="Modifiez l'email de l'utilisateur"
						/>
					</div>
					<div class="alert alert-warning alert-dismissible fade show" th:role="alert" th:if="${emailError}" th:text="${emailError}">
                        Email Error
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
					<div class="input-group mb-3">
						<div class="input-group-prepend read-project">
							<label class="input-group-text flex-centered" for="phoneNumber">
								Téléphone
							</label>
						</div>
						<input
							type="tel"
							class="form-control"
							name="phoneNumber"
							th:field="*{phoneNumber}"
							placeholder="Modifiez le numéro de téléphone de l'utilisateur"
						/>
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend read-project">
							<label class="input-group-text flex-centered" for="address">
								Adresse
							</label>
						</div>
						<input
							type="text"
							class="form-control"
							name="address"
							th:field="*{address}"
							placeholder="Modifiez l'adresse de l'utilisateur"
						/>
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend read-project">
							<label class="input-group-text flex-centered" for="city">
								City
							</label>
						</div>
						<input
							type="text"
							class="form-control"
							name="city"
							th:field="*{city}"
							placeholder="Modifiez la ville de l'utilisateur"
						/>
					</div>
					<div class="input-group mb-3">
						<div class="input-group-prepend read-project">
							<label class="input-group-text flex-centered" for="postalCode">
								Code postal
							</label>
						</div>
						<input
							type="text"
							class="form-control"
							name="postalCode"
							th:field="*{postalCode}"
							placeholder="Modifiez le code postal de l'utilisateur"
						/>
					</div>

					<section class="check-role">
						<p>Sélectionner le rôle de l'utilisateur :</p>
						<div class="item-check">
							<input
								type="radio"
								id="admin"
								name="role"
								value="ADMIN"
                                th:checked="${userToUpdate.role == 'ADMIN'}"
							/>
							<label for="role">Administrateur</label>
						</div>
						<div class="item-check">
							<input
								type="radio"
								id="partner"
								name="role"
								value="PARTNER"
								th:checked="${userToUpdate.role == 'PARTNER'}"
							/>
							<label for="role">Partenaire</label>
						</div>
						<div class="item-check">
							<input
								type="radio"
								id="user"
								name="role"
								value="USER"
								th:checked="${userToUpdate.role == 'USER'}"
							/>
							<label for="role">Utilisateur</label>
						</div>
					</section>
					<input
						type="hidden"
						class="form-control"
						name="password"
						value="########"
					/>
					<button type="submit" class="btn btn-info">Modifier</button>
				</form>
			</section>
		</main>
		<div th:replace="fragments/footer.html :: footer"></div>
		<div th:replace="fragments/script.html :: script"></div>
	</body>
</html>
